BR2_aarch64=y
BR2_cortex_a72=y
BR2_ARM_FPU_VFPV4=y
BR2_TOOLCHAIN_EXTERNAL=y
BR2_TARGET_GENERIC_HOSTNAME="raspberrypi"
BR2_TARGET_GENERIC_ISSUE="Welcome to My Custom Raspberry Pi 4 Image"
BR2_SYSTEM_DHCP="eth0"

# Kernel Configuration
BR2_LINUX_KERNEL=y
BR2_LINUX_KERNEL_CUSTOM_VERSION=y
BR2_LINUX_KERNEL_CUSTOM_VERSION_VALUE="6.1.21"
BR2_LINUX_KERNEL_USE_CUSTOM_CONFIG=y
BR2_LINUX_KERNEL_CUSTOM_CONFIG_FILE="board/raspberrypi4/linux.config"
BR2_LINUX_KERNEL_DTS_SUPPORT=y
BR2_LINUX_KERNEL_INTREE_DTS_NAME="bcm2711-rpi-4-b"

# Filesystem - Use ext4 
BR2_TARGET_ROOTFS_EXT2=y
BR2_TARGET_ROOTFS_EXT2_4=y
BR2_TARGET_ROOTFS_EXT2_SIZE="512M"
BR2_TARGET_ROOTFS_EXT2_LABEL="rootfs"

# Bootloader
BR2_TARGET_UBOOT=y
BR2_TARGET_UBOOT_BOARDNAME="rpi_4_64b"
BR2_TARGET_UBOOT_FORMAT_BIN=y
BR2_TARGET_UBOOT_SPL=y
BR2_TARGET_UBOOT_SPL_NAME="rpi_4_64b"
BR2_TARGET_UBOOT_CUSTOM_VERSION=y
BR2_TARGET_UBOOT_CUSTOM_VERSION_VALUE="2023.04"

# Packages
BR2_PACKAGE_GST1_PLUGINS_BASE=y
BR2_PACKAGE_GST1_PLUGINS_GOOD=y
BR2_PACKAGE_GST1_PLUGINS_BAD=y
BR2_PACKAGE_GST1_PLUGINS_UGLY=y
BR2_PACKAGE_GSTREAMER1=y
BR2_PACKAGE_OPENCV=y
BR2_PACKAGE_OPENCV_FFMPEG=y
BR2_PACKAGE_OPENCV_GSTREAMER=y
BR2_PACKAGE_OPENCV_CONTRIB=y
BR2_PACKAGE_PYTHON3=y
BR2_PACKAGE_PYTHON_OPENCV=y
BR2_PACKAGE_DROID=y
BR2_PACKAGE_OPENSSH=y

# Networking
BR2_PACKAGE_WPA_SUPPLICANT=y
BR2_PACKAGE_WIRELESS_REGDB=y
BR2_PACKAGE_IW=y
BR2_PACKAGE_WGET=y

# The custom application package
#BR2_PACKAGE_RPI4_CAMERA_STREAMER=y

# Enable systemd for service management (recommended)
BR2_INIT_SYSTEMD=y

# Target filesystem options - Keep root user.  Good for development.
BR2_TARGET_GENERIC_ROOT_PASSWORD="root"
BR2_TARGET_GENERIC_GETTY_PORT="tty1"

#custom package
BR2_PACKAGE_RPI4_CAMERA_STREAMER=y

# Build options for speed
BR2_JLEVEL=4  # Use 4 cores for compilation (adjust to your host machine)
BR2_CCACHE=y   # Enable compiler cache (speeds up rebuilds)

# Legal info
BR2_LEGAL_INFO=y